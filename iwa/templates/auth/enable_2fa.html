{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Register{% endblock %}</h1>
{% endblock %}

{% block content %}
<div class="site-section">

    <div class="container h-100">

        <div class="row justify-content-center align-items-center">
            {% for message in get_flashed_messages() %}
            <div class="flash">{{ message }}</div>
            {% endfor %}
        </div>

        <div class="row">
            <div class="col-md-12">
                <h1>Instructions</h1>
                <ul>
                    <li>Download <a href="">Google Authenticator</a> or similar app to your mobile</li>
                    <li>Setup a new Authenticator</li>
                    <li>Scan the QR code below or enter the Secret Token shown</li>
                </ul>
            </div>

            <div class="col-md-12">
                <img src="data:image/png;base64,{{ qr_b64 }}" alt="QR Code">
            </div>

            <div class="col-md-6 mb-3">
                <div class="form-group row">
                    <label for="secret" class="text-black">Secret Token</label>
                    <div class="input-group">
                        <input type="text" class="form-control" id="secret" name="secret" value="{{ secret }}" readonly>
                    </div>
                </div>
            </div>

            <div class="col-md-12">
                <a class="btn btn-primary" href="/dashboard">Back</a>
            </div>
        </div>

    </div>

</div>

{% endblock %}